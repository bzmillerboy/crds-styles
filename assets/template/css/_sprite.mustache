%icon-dimensions {
	$dimensions: 16px;
	&.icon {
	  width: $dimensions * 2;
  	height: $dimensions * 2;
		background-color: $cr-black;
		-webkit-mask-size: $dimensions * 2;
		@for $i from 1 through 6 {
			&.icon-#{$i} {
				width: $dimensions * $i;
				height: $dimensions * $i;
				-webkit-mask-size: $dimensions * $i;
			}
		}
		@each $name, $color in $cr-colors {
			&.cr-#{$name} {
				background-color: $color;
			}
		}
	}
}

{{#hasMixin}}@mixin {{mixinName}} {
	-webkit-mask-image: url("{{{sprite}}}");
}

{{#hasCommon}}.{{commonName}} {
	@include {{mixinName}};
}

{{/hasCommon}}{{/hasMixin}}{{^hasMixin}}{{#hasCommon}}.{{/hasCommon}}{{^hasCommon}}%{{/hasCommon}}{{commonName}} {
	-webkit-mask-image: url("{{{sprite}}}");
	@extend %icon-dimensions;
}

{{/hasMixin}}{{#shapes}}{{#selector.shape}}{{expression}}{{^last}},
{{/last}}{{/selector.shape}} {
	{{^hasCommon}}{{#hasMixin}}@include {{mixinName}};{{/hasMixin}}{{^hasMixin}}@extend %{{commonName}};{{/hasMixin}}
	{{/hasCommon}}-webkit-mask-position: {{position.relative.xy}};{{#dimensions.inline}}
	width: {{width.outer}}px;
	height: {{height.outer}}px;{{/dimensions.inline}}
}{{#dimensions.extra}}

{{#selector.dimensions}}{{expression}}{{^last}},
{{/last}}{{/selector.dimensions}} {
	width: {{width.outer}}px;
	height: {{height.outer}}px;
}{{/dimensions.extra}}

{{/shapes}}